            trace {
    major = 1;
    minor = 8;
    uuid = "4d86e02c-f527-4971-b960-971d26074bd4";
    byte_order = le;
    packet.header := struct {
        u32 magic;
        u8 uuid[16];
        u8 stream_id;
    };
};

clock {
    name = "def";
};

typealias integer { size = 16; map = clock.def.value; } := clk16;
typealias integer { size = 8; map = clock.def.value; } := clk8;

stream {
    id = 0x23;
    packet.context := struct {
        u16 packet_size;
        u16 content_size;
        clk16 timestamp_begin;
        clk16 timestamp_end;
    };
    event.header := struct {
        u8 id;
        clk8 ts;
    };
    event.context := struct {
        enum : u32 {
            BON = 0x44556677,
            JOVI,
        } ctx1;
        string ctx2;
    };
};

event {
    id = 0x1d;
    stream_id = 0x23;
    name = "coronin";
    context := struct {
        u32 a;
    } align(64);
    fields := struct {
        string z;
    };
};

event {
    id = 0x77;
    stream_id = 0x23;
    name = "keratin";
    fields := struct {
        floating_point { exp_dig = 8; mant_dig = 24; byte_order = be; } fff;
    };
};

event {
    stream_id = 0x23;
    id = 5;
    name = "the variant event";
    fields := struct {
        enum : u8 {
            ZIG = 0x45,
            ZAG = 0xc0
        } tag;
        variant <stream.event.context.ctx1> {
            string BON;
            u32 JOVI[stream.event.header.id];
        } vvv;
        variant <event.fields.tag> {
            i16 ZIG;
            floating_point { exp_dig = 11; mant_dig = 53; } ZAG;
        } zigzag;
    };
};

stream {
    id = 0xff;
    packet.context := struct {
        u32 packet_size;
        u16 len;
    };
};

event {
    stream_id = 0xff;
    name = "coucou les coucous";
    fields := struct {
        u32 len;
        u8 seq1[stream.packet.context.len];
        string seq2[len];
    };
};
----
c11ffcc1 4d86e02c-f527-4971-b960-971d26074bd4 23
6003 5803 004d 0090

    1d 00
    abcdef23 "hello hello" 00 <19>
    89674523
    "meow mix" 00

    77 05
    01000000 "submarine" 00
    402df84d

    1d 04
    00996644 "lel" 00 <00 11 22 33 44>
    deadbeef
    "KANADA" 00

    <99>

c11ffcc1 4d86e02c-f527-4971-b960-971d26074bd4 ff
98020000 0700

    03000000
    (01 02 03 04 05 06 07)
    "yes" 00 "sir" 00 "miller" 00

    04000000
    (aa bb cc dd ee ff 00)
    "a" 00 "whole" 00 "lotta" 00 "love" 00

c11ffcc1 4d86e02c-f527-4971-b960-971d26074bd4 23
6003 5003 002f 0090

    05 03
    77665544 "mystery" 00
    c0 "it's my life" 00 2a806ffc:8c78e23f

    05 09
    78665544 "parenthesis" 00
    45 (00000000 11111111 22222222 33333333 44444444) fe ff

    <ff 02>
----
     0 P {
     0   PC {
     0     SC:0 {
     0       ST {
     0         UI:magic:3254525889
    32         PMN:3254525889
    32         SA:uuid {
    32           UI:77
    40           UI:134
    48           UI:224
    56           UI:44
    64           UI:245
    72           UI:39
    80           UI:73
    88           UI:113
    96           UI:185
   104           UI:96
   112           UI:151
   120           UI:29
   128           UI:38
   136           UI:7
   144           UI:75
   152           UI:212
   160           TTU:4d86e02c-f527-4971-b960-971d26074bd4
   160         }
   160         UI:stream_id:35
   168       }
   168     }
   168     DST:35
   168     SC:1 {
   168       ST {
   168         UI:packet_size:864
   184         EPTL:864
   184         UI:content_size:856
   200         EPCL:856
   200         UI:timestamp_begin:19712
   216         DCV:19712
   216         UI:timestamp_end:36864
   232         PEDCV:36864
   232       }
   232     }
   232     ER {
   232       SC:2 {
   232         ST {
   232           UI:id:29
   240           UI:ts:0
   248           DCV:19712
   248         }
   248       }
   248       ERT:29:coronin
   248       SC:3 {
   248         ST {
   248           UE:ctx1:602918315
   280           STR:ctx2 {
   280             SS:12:hello hello
   376           }
   376         }
   376       }
   384       SC:4 {
   384         ST {
   384           UI:a:591751049
   416         }
   416       }
   416       SC:5 {
   416         ST {
   416           STR:z {
   416             SS:9:meow mix
   488           }
   488         }
   488       }
   488     }
   488     ER {
   488       SC:2 {
   488         ST {
   488           UI:id:119
   496           UI:ts:5
   504           DCV:19717
   504         }
   504       }
   504       ERT:119:keratin
   504       SC:3 {
   504         ST {
   504           UE:ctx1:1
   536           STR:ctx2 {
   536             SS:10:submarine
   616           }
   616         }
   616       }
   616       SC:5 {
   616         ST {
   616           FPN:fff:2.71828
   648         }
   648       }
   648     }
   648     ER {
   648       SC:2 {
   648         ST {
   648           UI:id:29
   656           UI:ts:4
   664           DCV:19972
   664         }
   664       }
   664       ERT:29:coronin
   664       SC:3 {
   664         ST {
   664           UE:ctx1:1147574528
   696           STR:ctx2 {
   696             SS:4:lel
   728           }
   728         }
   728       }
   768       SC:4 {
   768         ST {
   768           UI:a:4022250974
   800         }
   800       }
   800       SC:5 {
   800         ST {
   800           STR:z {
   800             SS:7:KANADA
   856           }
   856         }
   856       }
   856     }
   856   }
   864 }
   864 P {
   864   PC {
   864     SC:0 {
   864       ST {
   864         UI:magic:3254525889
   896         PMN:3254525889
   896         SA:uuid {
   896           UI:77
   904           UI:134
   912           UI:224
   920           UI:44
   928           UI:245
   936           UI:39
   944           UI:73
   952           UI:113
   960           UI:185
   968           UI:96
   976           UI:151
   984           UI:29
   992           UI:38
  1000           UI:7
  1008           UI:75
  1016           UI:212
  1024           TTU:4d86e02c-f527-4971-b960-971d26074bd4
  1024         }
  1024         UI:stream_id:255
  1032       }
  1032     }
  1032     DST:255
  1032     SC:1 {
  1032       ST {
  1032         UI:packet_size:664
  1064         EPTL:664
  1064         UI:len:7
  1080       }
  1080     }
  1080     ER {
  1080       ERT:0:coucou les coucous
  1080       SC:5 {
  1080         ST {
  1080           UI:len:3
  1112           DA:seq1 {
  1112             UI:1
  1120             UI:2
  1128             UI:3
  1136             UI:4
  1144             UI:5
  1152             UI:6
  1160             UI:7
  1168           }
  1168           DA:seq2 {
  1168             STR {
  1168               SS:4:yes
  1200             }
  1200             STR {
  1200               SS:4:sir
  1232             }
  1232             STR {
  1232               SS:7:miller
  1288             }
  1288           }
  1288         }
  1288       }
  1288     }
  1288     ER {
  1288       ERT:0:coucou les coucous
  1288       SC:5 {
  1288         ST {
  1288           UI:len:4
  1320           DA:seq1 {
  1320             UI:170
  1328             UI:187
  1336             UI:204
  1344             UI:221
  1352             UI:238
  1360             UI:255
  1368             UI:0
  1376           }
  1376           DA:seq2 {
  1376             STR {
  1376               SS:2:a
  1392             }
  1392             STR {
  1392               SS:6:whole
  1440             }
  1440             STR {
  1440               SS:6:lotta
  1488             }
  1488             STR {
  1488               SS:5:love
  1528             }
  1528           }
  1528         }
  1528       }
  1528     }
  1528   }
  1528 }
  1528 P {
  1528   PC {
  1528     SC:0 {
  1528       ST {
  1528         UI:magic:3254525889
  1560         PMN:3254525889
  1560         SA:uuid {
  1560           UI:77
  1568           UI:134
  1576           UI:224
  1584           UI:44
  1592           UI:245
  1600           UI:39
  1608           UI:73
  1616           UI:113
  1624           UI:185
  1632           UI:96
  1640           UI:151
  1648           UI:29
  1656           UI:38
  1664           UI:7
  1672           UI:75
  1680           UI:212
  1688           TTU:4d86e02c-f527-4971-b960-971d26074bd4
  1688         }
  1688         UI:stream_id:35
  1696       }
  1696     }
  1696     DST:35
  1696     SC:1 {
  1696       ST {
  1696         UI:packet_size:864
  1712         EPTL:864
  1712         UI:content_size:848
  1728         EPCL:848
  1728         UI:timestamp_begin:12032
  1744         DCV:12032
  1744         UI:timestamp_end:36864
  1760         PEDCV:36864
  1760       }
  1760     }
  1760     ER {
  1760       SC:2 {
  1760         ST {
  1760           UI:id:5
  1768           UI:ts:3
  1776           DCV:12035
  1776         }
  1776       }
  1776       ERT:5:the variant event
  1776       SC:3 {
  1776         ST {
  1776           UE:ctx1:1146447479
  1808           STR:ctx2 {
  1808             SS:8:mystery
  1872           }
  1872         }
  1872       }
  1872       SC:5 {
  1872         ST {
  1872           UE:tag:192
  1880           VU:vvv:1146447479 {
  1880             STR {
  1880               SS:13:it's my life
  1984             }
  1984           }
  1984           VU:zigzag:192 {
  1984             FPN:0.577216
  2048           }
  2048         }
  2048       }
  2048     }
  2048     ER {
  2048       SC:2 {
  2048         ST {
  2048           UI:id:5
  2056           UI:ts:9
  2064           DCV:12041
  2064         }
  2064       }
  2064       ERT:5:the variant event
  2064       SC:3 {
  2064         ST {
  2064           UE:ctx1:1146447480
  2096           STR:ctx2 {
  2096             SS:12:parenthesis
  2192           }
  2192         }
  2192       }
  2192       SC:5 {
  2192         ST {
  2192           UE:tag:69
  2200           VU:vvv:1146447480 {
  2200             DA {
  2200               UI:0
  2232               UI:286331153
  2264               UI:572662306
  2296               UI:858993459
  2328               UI:1145324612
  2360             }
  2360           }
  2360           VU:zigzag:69 {
  2360             SI:-2
  2376           }
  2376         }
  2376       }
  2376     }
  2376   }
  2392 }
