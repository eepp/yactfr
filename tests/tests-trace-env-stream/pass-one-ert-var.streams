[
  {"type": "preamble", "version": 2},
  {
    "type": "data-stream-class",
    "namespace": "std",
    "name": "environment"
  },
  {
    "type": "event-record-class",
    "payload-field-class": {
      "type": "structure",
      "member-classes": [
        {
          "name": "my key",
          "field-class": {
            "type": "null-terminated-string",
            "user-attributes": {
              "std": {"is-key": true}
            }
          }
        },
        {
          "name": "sel",
          "field-class": {
            "type": "fixed-length-unsigned-integer",
            "length": 8,
            "byte-order": "big-endian"
          }
        },
        {
          "name": "my val",
          "field-class": {
            "type": "variant",
            "selector-field-location": ["event-record-payload", "sel"],
            "options": [
              {
                "selector-field-ranges": [[5, 5]],
                "field-class": {
                  "type": "fixed-length-unsigned-integer",
                  "length": 8,
                  "byte-order": "big-endian",
                  "user-attributes": {
                    "std": {"is-value": true}
                  }
                }
              },
              {
                "selector-field-ranges": [[9, 9]],
                "field-class": {
                  "type": "null-terminated-string",
                  "user-attributes": {
                    "std": {"is-value": true}
                  }
                }
              }
            ]
          }
        }
      ]
    }
  }
]
----
"nombre de smarties" 00 05 55
"la ville est" 00 09 "trop immense" 00
"meow" 00 05 ff
----
la ville est: trop immense
meow: 255
nombre de smarties: 85
